tg-lightbox-close

div.form.lb-select-user-form
    h2.title(translate="COMMON.WATCHERS.ADD")
    fieldset
        input(type="text", data-maxlength="500", placeholder="{{'LIGHTBOX.ASSIGNED_TO.SEARCH' | translate}}", ng-model="searchText")
    div.ticket-watchers.assigned-to-list
        div(ng-repeat="item in collection")
            .user-list-item(
                ng-class="{'is-active': selected.indexOf(item) > -1}"
                ng-click="addItem(item)"
            )
                .user-list-avatar
                    img(
                        style="background: {{ item.avatar.bg }}"
                        src="{{ item.avatar.url }}"
                        ng-if="item.type == 'user'"
                    )
                    img(
                        src="/#{v}/images/avatar-role.png"
                        ng-if="item.type == 'role'"
                    )

                .user-list-name(ng-if="item.type == 'user'") {{ item.name }}
                .user-list-name(
                    ng-if="item.type == 'role'"
                )
                    span.role {{ item.name }}
                    span.users {{ item.userNames }}
                tg-svg.remove-assigned-to(
                    svg-icon="icon-close",
                    svg-title-translate="COMMON.ASSIGNED_TO.REMOVE_ASSIGNED",
                    ng-if="selected.indexOf(item) > -1"
                    ng-click="removeItem(item, $event)"
                )
    .lb-select-user-actions(ng-if="!searchText")
        button.button-green.lb-select-user-confirm(
            ng-click="confirmSelection()"
        ) {{'COMMON.ADD' | translate}}

    .lb-select-user-actions(ng-if="searchText")
        a.lb-select-user-link-back(
            href=""
            ng-click="clearSearch()"
        ) {{'COMMON.BACK' | translate}}